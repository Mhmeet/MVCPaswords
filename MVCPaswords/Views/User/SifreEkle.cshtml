@model List<MVCPaswords.Models.Kategori>
@{
    Layout = null;
}




<!DOCTYPE html>
<!--
Author: Keenthemes
Product Name: Metronic - Bootstrap 5 HTML, VueJS, React, Angular & Laravel Admin Dashboard Theme
License: For each use you must have a valid license purchased only from above link in order to legally use the theme for your project.
-->
<html>
<!--begin::Head-->
<!-- Mirrored from preview.keenthemes.com/metronic8/demo8/authentication/layouts/dark/sign-up.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Dec 2021 07:05:29 GMT -->
<!-- Added by HTTrack -->
<!-- /Added by HTTrack -->
<head>
    <title>oKsitem Teknoloji</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="Metronic - Bootstrap 5 HTML, VueJS, React, Angular &amp; Laravel Admin Dashboard Theme" />
    <meta property="og:site_name" content="oKSitem Teknoloji" />
    <!--begin::Fonts-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
    <!--end::Fonts-->
    <!--begin::Global Stylesheets Bundle(used by all pages)-->
    <link href="~/demo13/assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <link href="~/demo13/assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="sweetalert2.min.css">
  
</head>
<!--end::Head-->
<!--begin::Body-->

<body id="kt_body" class="bg-dark">

    <div class="modal fade" id="kt_modal_view_users" tabindex="-1" aria-hidden="true" role="dialog">
        <div class="modal-dialog mw-650px" role="document">
            <div class="modal-content">
                <div class="modal-header pb-0 border-0 justify-content-end">
                    <div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal">
                        <span class="svg-icon svg-icon-1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black"></rect>
                                <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black"></rect>
                            </svg>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--begin::Root-->
    <div class="d-flex flex-column flex-root">
        <!--begin::Authentication - Sign-up -->
        <div class="d-flex flex-column flex-column-fluid bgi-position-y-bottom position-x-center bgi-no-repeat bgi-size-contain bgi-attachment-fixed" style="background-image: url(../../demo13/assets/media/illustrations/unitedpalms-1/14-dark.png)">
            <!--begin::Content-->
            <div class="d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20">
                <!--begin::Logo-->

                <img alt="Logo" src="~/demo13/logo.png" class="h-80px" />

                <!--end::Logo-->
                <!--begin::Wrapper-->
                <div class="w-lg-600px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
                    <!--begin::Form-->
                    <form method="post" class="form w-100" novalidate="novalidate" id="kt_sign_up_form">
                        <!--begin::Heading-->
                        <div class="mb-10 text-center">
                            <!--begin::Title-->
                            <h1 class="text-dark mb-3">Yeni Şifre Ekle</h1>
                            <!--end::Title-->
                            <!--begin::Link-->
                            <div class="text-gray-400 fw-bold fs-4">
                                Şifre Eklemek istemiyorsanız
                                <a href="/User/index" class="link-primary fw-bolder">Anasayfaya geçebilirsiniz</a>
                            </div>
                            <!--end::Link-->
                        </div>
                        <!--end::Heading-->
                        <!--begin::Input group-->
                        <!--end::Input group-->
                        <!--begin::Input group-->
                        <div class="fv-row mb-7">
                            <label class="form-label fw-bolder text-dark fs-6">Eklemek İstediğiniz Şifreyi Yazınız</label>
                            <input class="form-control form-control-lg form-control-solid" type="text" placeholder="" id="sifre" name="Sifre" autocomplete="off" />
                        </div>
                        <div class="fv-row mb-7">
                            <label class="form-label fw-bolder text-dark fs-6">Şifrenizin Hangi Kategoride Olduğunu Seçiniz</label>
                            <select class="form-select form-select-lg form-select-solid" id="select">
                                <option selected>Lütfen Bir Kategori Seçiniz</option>
                                @foreach (var item in Model)
                                {
                                    <option value="@item.ID">@item.Kategori_Isim</option>
                                }
                            </select>
                        </div>
                        <!--end::Input group-->
                        <!--begin::Input group-->
                        <!--end::Input group=-->
                        <!--begin::Input group-->
                        <div class="fv-row mb-5">
                            <label class="form-label fw-bolder text-dark fs-6">Açıklama</label>
                            <textarea class="form-control form-control-lg form-control-solid" id="aciklama" autocomplete="off" rows="3" maxlength="150" style="resize:none;"></textarea>
                        </div>
                        <!--end::Input group-->
                        <!--begin::Input group-->
                        <!--end::Input group-->
                        <!--begin::Actions-->
                        <div class="text-center">
                            <button type="button" id="kayitOl" class="btn btn-lg btn-primary">
                                <span class="indicator-label">Kayıt Ol</span>
                                <span class="indicator-progress">
                                    Please wait...
                                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                </span>
                            </button>
                        </div>
                        <!--end::Actions-->
                    </form>
                    <!--end::Form-->
                </div>
                <!--end::Wrapper-->
            </div>
            <!--end::Content-->
            <!--begin::Footer-->
            <!--end::Footer-->
        </div>
        <!--end::Authentication - Sign-up-->
    </div>
    <!--end::Root-->
    <!--end::Main-->
    <!--begin::Javascript-->
    <!--begin::Global Javascript Bundle(used by all pages)-->
    <script src="~/demo13/assets/plugins/global/plugins.bundle.js"></script>
    <script src="~/demo13/assets/js/scripts.bundle.js"></script>
    <!--end::Glob~/demo13cript Bundle-->
    <!--begin::Pa~/demo13m Javascript(used by this page)-->
    <script src="~/demo13/assets/js/custom/authentication/sign-up/general.js"></script>
    <script src="~/Scripts/jquery-3.6.0.min.js"></script>

    <script src="sweetalert2.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            var id = -6;
        $("#select").change(function () {
             id = $(this).children(":selected").attr("value");
        });
        $("#kayitOl").click(function () {
           ;
            var sifre = $("#sifre").val();
            var aciklama = $("#aciklama").val();


            if (id != -6) {
                $.ajax({
                url: '@Url.Action("SifreEkle", "User")',
                type: 'POST',
                datatype: 'json',
                data: { sifre: sifre, ack: aciklama, katid: id },
                success: function (data) {
                    if (data == true) {

                        Swal.fire({
                            title: 'Kayıt Tamamlandı',
                            text: "Hesabınız Aktif olduğunda Mail Gönderilecektir. Lütfen Bekleyin!",
                            icon: 'success',
                            confirmButtonColor: '#3085d6',
                            confirmButtonText: 'Tamam!'
                        }).then((result) => {
                            if (result.isConfirmed) {
                                window.location.href = "/User/Index";
                            }
                        })
                    }
                    else {
                        Swal.fire(
                            "hata",
                            "hatalı işlem",
                            "Error"
                        )
                    }
                },
                error: function (data) {
                    //if (data == 3) {
                    //    swal.fire(
                    //        'Kayıt başarısız!',
                    //        'Lütfen mail adresinizi \64 Oksitem.com olarak doldurun!',
                    //        'Error'
                    //    )
                    //}
                    //if (data == 4) {
                    //    swal.fire(
                    //        'Kayıt başarısız!',
                    //        'Bu isimde başka bir mail adresi bulunmaktadır!',
                    //        'Error'
                    //    )
                    //}
                    if (data == false) {
                        swal.fire(
                            'Kayıt başarısız!',
                            'İşleminiz gerçekleşirken bi aksilik oluştu!',
                            'Error'
                        )
                    }
                }
            });
            }
        });
    });
    </script>
    <!--end::Page Custom Javascript-->
    <!--end::Javascript-->
    <!--Begin::Google Tag Manager (noscript) -->
    <!--End::Google Tag Manager (noscript) -->
</body>
<!--end::Body-->
<!-- Mirrored from preview.keenthemes.com/metronic8/demo8/authentication/layouts/dark/sign-up.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Dec 2021 07:05:29 GMT -->
</html>
